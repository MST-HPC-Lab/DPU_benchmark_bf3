import matplotlib.pyplot as plt
import numpy as np



# DATA :
k = [1, 2, 3, 5, 7, 10, 25, 50, 75, 100]

# bf3_log_kvaried.txt
bf3_lsh_recall = np.array([0.34230000000000244, 0.34230000000000244, 0.34230000000000244, 0.34230000000000244, 0.34230000000000244, 0.34230000000000244, 0.34230000000000244, 0.34230000000000244, 0.34230000000000244, 0.34230000000000244])
bf3_pq_recall = np.array([0.39314999999999894, 0.39314999999999894, 0.39314999999999894, 0.39314999999999894, 0.39314999999999894, 0.39314999999999894, 0.39314999999999894, 0.39314999999999894, 0.39314999999999894, 0.39314999999999894])
bf3_ivfpq_recall = np.array([0.3998499999999986, 0.3998499999999986, 0.3998499999999986, 0.3998499999999986, 0.3998499999999986, 0.3998499999999986, 0.3998499999999986, 0.3998499999999986, 0.3998499999999986, 0.3998499999999986])
# bf3_lsh_time = np.array([0.6124464880364636, 0.6465808102705827, 0.6051685946683089, 0.6377954337125024, 0.6362066202952216, 0.6359510084148496, 0.6183263376976053, 0.6424111196926484, 0.6259694419956455, 0.6363421746063977])
# bf3_pq_time = np.array([0.48051328569029766, 0.48096189539258677, 0.4775239360363533, 0.5435103597119451, 0.4799816623950998, 0.47724279505200684, 0.47887390564816695, 0.4835782786055158, 0.4799104716318349, 0.48275934198560816])
# bf3_ivfpq_time = np.array([0.925549060649549, 0.9233574129951497, 0.925961427623406, 0.9367856880029043, 0.9297757456079125, 0.9333395007997751, 0.9292417430939773, 0.9871882176958025, 0.9297006060369313, 0.9327706807137778])

# bf3host_log_kvaried.txt
host_lsh_recall = np.array([0.3423, 0.3423, 0.3423, 0.3423, 0.3423, 0.3423, 0.3423, 0.3423, 0.3423, 0.3423])
host_pq_recall = np.array([0.39265, 0.39265, 0.39265, 0.39265, 0.39265, 0.39265, 0.39265, 0.39265, 0.39265, 0.39265])
host_ivfpq_recall = np.array([0.399, 0.399, 0.399, 0.399, 0.399, 0.399, 0.399, 0.399, 0.399, 0.399])
# bf3host_lsh_time = np.array([0.20973216237810752, 0.25658843270502985, 0.20921152426550785, 0.2141566926923891, 0.20908481891577443, 0.2141543331090361, 0.23092106931532422, 0.2134851779167851, 0.21216268038066724, 0.21429943828843534])
# bf3host_pq_time = np.array([0.2677502389997244, 0.26792405359447, 0.2683587089801828, 0.2660996736182521, 0.269898120003442, 0.2664060906196634, 0.2685565813444555, 0.2660772396872441, 0.2704737276459734, 0.2667563760187477])
# bf3host_ivfpq_time = np.array([0.22847343663064143, 0.22769157929966846, 0.2279423512518406, 0.22780342198287448, 0.22777490969747305, 0.22767835793395838, 0.22850780561566353, 0.22784777839357653, 0.23144468766016266, 0.22766143929523727])



# GRAPHS :
plt.title("glove.6B.200d.txt: How Recall Varies with k\n(parameters chosen so that recall is 100% when k=1)")
plt.grid(color='0.8')
# plt.scatter(host_IVFPQ_k10_recall, host_IVFPQ_k10_time, color='orange')
# plt.scatter(host_PQ_k10_recall, host_PQ_k10_time, color='teal')
# plt.scatter(host_LSH_k10_recall, host_LSH_k10_time, color='purple')
# plt.ylabel("Time (ms)")
plt.plot(k, host_lsh_recall   ,       color='purple')
plt.plot(k, host_pq_recall    ,       color='teal')
plt.plot(k, host_ivfpq_recall ,       color='orange')
plt.plot(k, bf3_lsh_recall    , 'o:', color='purple')
plt.plot(k, bf3_pq_recall     , 'o:', color='teal')
plt.plot(k, bf3_ivfpq_recall  , 'o:', color='orange')
plt.ylabel("k-Recall@k")
plt.xlabel("k")
plt.ylim(0, 1.1)
plt.legend(["Host LSH", "Host PQ", "Host IVFPQ", "BF3 LSH", "BF3 PQ", "BF3 IVFPQ"])
# plt.show()#block=False)
plt.savefig("results/recall_vs_k.png")
plt.close()